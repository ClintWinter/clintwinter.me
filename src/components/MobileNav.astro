---
import Menu from './icons/Menu.astro';
import Close from './icons/Close.astro';

const pages = [{
    title: 'Home',
    url: '/',
},{
    title: 'Blog',
    url: '/blog',
}, {
    title: 'Reading List',
    url: '/reading-list',
}, {
    title: 'About',
    url: '/about',
}];
---

<button data-menu-button aria-label="Menu" class="fixed block md:hidden right-4 bottom-4 p-2 text-xl border bg-gray-50 dark:bg-gray-950 border-gray-500 hover:bg-gray-100 dark:hover:bg-gray-900 shadow">
    <Menu class="w-6 h-6" />
</button>

<nav data-mobile-nav class="hidden flex flex-col justify-end fixed inset-0 bg-gray-900/75 z-10">
    <div class="flex flex-col gap-2 items-end p-4 bg-gray-100 dark:bg-gray-800">
        <ul class="w-full grid grid-cols-1 sm:grid-cols-2 gap-2 leading-none z-20">
            {pages.map(page => (
            <li class="col-span-1 border border-gray-200 dark:border-gray-700">
                <a class="flex items-center justify-center gap-x-2 hover:bg-cyan-400 dark:hover:bg-cyan-500 p-2 nav-item" href={page.url}>
                    {page.title}
                </a>
            </li>
            ))}
        </ul>

        <button class="p-2 hover:bg-gray-200 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700" data-close-menu-button class="font-semibold cursor-pointer" aria-label="Close">
            <Close class="w-6 h-6" />
        </button>
    </div>
</nav>

<script>
const elMenuBtn = document.querySelector('[data-menu-button]');
const elCloseMenuBtn = document.querySelector('[data-close-menu-button]');
const elNav = document.querySelector('[data-mobile-nav]');

elMenuBtn?.addEventListener('click', () => elNav?.classList.toggle('hidden'));
elCloseMenuBtn?.addEventListener('click', () => elNav?.classList.toggle('hidden'));
</script>
